import org.apache.tools.ant.filters.ReplaceTokens

description = 'SORCER :: API'

task filter(type: Copy) {
    from "src/filter/groupversions.properties"
    into ("$buildDir/resources/main/META-INF/maven/")
    // Substitute property tokens in files
    //expand(copyright: '2009', version: '2.3.1')
    expand(project.properties)
}

/*task myCopy(type:Copy){
    from "src/main/resources/META-INF/maven/groupversions.properties"
    into ("$buildDir/resources/main/META-INF/maven/")
    def myProps = new Properties()
    file("../../gradle/libraries.properties").withInputStream{
        myProps.load(it);
    }
    filter(org.apache.tools.ant.filters.ReplaceTokens, tokens: myProps)
}*/

jar.dependsOn filter

dependencies {
    compile group: 'org.rioproject', name: 'rio-api', version:rioVersion
    compile group: 'org.rioproject', name: 'rio-platform', version:rioVersion
  compile project(':sos:sos-util')
    compile group: 'net.jini', name: 'jsk-lib', version:riverVersion
    compile group: 'net.jini', name: 'jsk-platform', version:riverVersion
    compile group: 'org.slf4j', name: 'slf4j-api', version:slf4jVersion
    testCompile group: 'junit', name: 'junit', version:junitVersion
    testCompile group: 'org.slf4j', name: 'slf4j-simple', version:slf4jVersion
}
